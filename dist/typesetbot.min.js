"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var TypesetBot=function(){return function(t,e){this._query=t,this._settings=e,this.logger=new TypesetBotLog(this),this.settings=new TypesetBotSettings(this,e),this.elementQuery=new TypesetBotElementQuery(this)}}(),TypesetBotLog=function(){return function(t){this.debug=!0,this.log=function(t){this.debug&&(console.log("TypesetBot: %s",t),"object"===_typeof(t)&&console.log(t))},this.warn=function(t){this.debug&&(console.warn("TypesetBot: %s",t),"object"===_typeof(t)&&console.warn(t))},this.error=function(t){console.error("TypesetBot: %s",t),"object"===_typeof(t)&&console.error(t)},this.start=function(t){this.debug&&(t in this._performanceMap||(this._performanceMap[t]=new TypesetBotPerformanceEntry),this._performanceMap[t].start.push(performance.now()))},this.end=function(t){this.debug&&(t in this._performanceMap||(this._performanceMap[t]=new TypesetBotPerformanceEntry),this._performanceMap[t].end.push(performance.now()))},this.diff=function(t){for(var e=0,n=0,s=this._performanceMap[t],i=0;i<s.start.length;i++)e+=s.start[i],n+=s.end[i];return(n-e).toFixed(2)+"ms --- (calls: "+s.start.length+")"},this._tsb=t,this._performanceMap={}}}(),TypesetBotPerformanceEntry=function(){return function(){this.start=[],this.end=[]}}(),TypesetBotElementQuery=function(){return function(t){this._tsb=t}}(),TypesetBotSettings=function(){return function(t,e){this._mergeSettings=function(t){if(null!=t)for(var e=0,n=Object.entries(t);e<n.length;e++){var s=n[e],i=s[0],o=s[1];void 0===this[i]&&this._tsb.logger.warn('Unknown settings key "'+i+'"'),this[i]=o}},this.alignment="justify",this.hyphenPenalty=50,this.hyphenPenaltyRagged=500,this.flagPenalty=3e3,this.fitnessClassDemerit=3e3,this.demeritOffset=1,this.loosenessParam=0,this.absoluteMaxRatio=5,this.maxRatio=2,this.minRatio=-1,this.hyphenLanguage="en-us",this.hyphenLeftMin=2,this.hyphenRightMin=2,this.fitnessClass=[-1,-.5,.5,1,1/0],this.spaceUnit="em",this.spaceWidth=1/3,this.spaceStretchability=1/6,this.spaceShrinkability=1/9,this.unwrapElements=["img"],this.dynamicWidth=!0,this.dynamicWidthIncrement=5,this.ratio=function(t,e,n,s,i){return e<t?(t-e)/((n-1)*i):(t-e)/((n-1)*s)},this.badness=function(t){return null==t||t<this.minRatio?1/0:100*Math.pow(Math.abs(t),3)+.5},this.demerit=function(t,e,n){var s=n?this.flagPenalty:0;return e>=0?Math.pow(this.demeritOffset+t+e,2)+s:e===-1/0?Math.pow(this.demeritOffset+t,2)+s:Math.pow(this.demeritOffset+t,2)-Math.pow(e,2)+s},this._tsb=t,this._customSettings=e,this._mergeSettings(e)}}();